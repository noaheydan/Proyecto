{"remainingRequest":"C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\src\\views\\Home.vue","mtime":1648775920756},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648655172549},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1648655179752},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648655172549},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1648655172892}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgYWxlcnQ6IHsgc2hvdzogZmFsc2UsIG1lc3NhZ2U6ICIiIH0sCiAgICBuYW1lUnVsZXM6IFsKICAgICAgdmFsdWUgPT4gISF2YWx1ZSB8fCAiU2UgcmVxdWllcmUgZWwgbm9tYnJlIiwKICAgICAgdmFsdWUgPT4KICAgICAgICAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID49IDUpIHx8ICJFbCBub21icmUgZGViZSB0ZW5lciBtw6FzIGRlIDUgY2FyYWN0ZXJlcyIKICAgIF0sCiAgICBlbWFpbFJ1bGVzOiBbCiAgICAgIHZhbHVlID0+ICEhdmFsdWUgfHwgIkluZ3Jlc2UgRS1tYWlsIiwKICAgICAgdmFsdWUgPT4gLy4rQC4rXC4uKy8udGVzdCh2YWx1ZSkgfHwgIkVsIGVtYWlsIGRlYmUgc2VyIHbDoWxpZG8iCiAgICBdLAogICAgcGFzc3dvcmRSdWxlczogWwogICAgICB2YWx1ZSA9PiAhIXZhbHVlIHx8ICJJbmdyZXNlIFBhc3N3b3JkIiwKICAgICAgdmFsdWUgPT4KICAgICAgICAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID49IDIpIHx8CiAgICAgICAgIkxhIGNvbnRyYXNlw7FhIGRlYmUgdGVuZXIgbcOhcyBkZSAyIGNhcmFjdGVyZXMiCiAgICBdLAogICAgdXNlcjogeyBuYW1lOiAiIiwgZW1haWw6ICIiLCBwYXNzd29yZDogIiIsIHJvbGU6ICIiIH0sCiAgICBzdUZvcm06IHRydWUKICB9KSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzaWdudXAoKSB7CiAgICAgIGxldCB2YWxpZCA9IHRoaXMuJHJlZnMuc2lnbnVwRm9ybS52YWxpZGF0ZSgpOwogICAgICBpZiAodmFsaWQpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5heGlvcy5wb3N0KCIvc2lnbnVwIiwgdGhpcy51c2VyKTsKICAgICAgICAgIHRoaXMuJHJlZnMuc2lnbnVwRm9ybS5yZXNldCgpOwogICAgICAgICAgdGhpcy5zdUZvcm0gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuYWxlcnQgPSB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZQogICAgICAgICAgfTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgdGhpcy5hbGVydCA9IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNpZ25pbigpIHsKICAgICAgbGV0IHZhbGlkID0gdGhpcy4kcmVmcy5zaWduaW5Gb3JtLnZhbGlkYXRlKCk7CiAgICAgIGlmICh2YWxpZCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoIi9zaWduaW4iLCB0aGlzLnVzZXIpOwogICAgICAgICAgaWYgKHJlcy5kYXRhLk5vdEZvdW5kKSB7CiAgICAgICAgICAgIHRoaXMuYWxlcnQgPSB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInNlc3Npb24iLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICB0aGlzLmFsZXJ0ID0gewogICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <v-app-bar app color=\"primary\" dark>\n      <v-toolbar-title>Bienvenido</v-toolbar-title>\n    </v-app-bar>\n    <v-alert text v-model=\"alert.show\" :type=\"alert.type\" dismissible>{{alert.message}}</v-alert>\n    <v-row justify=\"center\">\n      <!-- <v-col class=\"text-center\" md=\"2\" sm=\"2\">\n        <v-btn class=\"primary\"  @click=\"suForm=true\">sign up</v-btn>\n      </v-col> -->\n     <!--  <v-col class=\"text-center\" md=\"2\" sm=\"2\">\n        <v-btn class=\"success\"  @click=\"suForm=false\">Iniciar Sesion</v-btn>\n      </v-col> -->\n    </v-row>\n    <v-row justify=\"center\">\n      <v-col md=\"6\" sm=\"6\">\n       <!--  <v-card v-if=\"suForm\">\n          <v-card-title>Sign Up</v-card-title>\n          <v-card-text>\n            <v-form class=\"ma-3\" @submit.prevent=\"signup()\" ref=\"signupForm\">\n              <v-text-field\n                label=\"Name\"\n                prepend-icon=\"mdi-account\"\n                :rules=\"nameRules\"\n                v-model=\"user.name\"\n              ></v-text-field>\n              <v-text-field\n                label=\"E-mail\"\n                prepend-icon=\"mdi-email\"\n                :rules=\"emailRules\"\n                v-model=\"user.email\"\n              ></v-text-field>\n              <v-text-field\n                label=\"Password\"\n                prepend-icon=\"mdi-lock\"\n                type=\"password\"\n                :rules=\"passwordRules\"\n                v-model=\"user.password\"\n              ></v-text-field>\n              <v-radio-group row v-model=\"user.role\" :rules=\"[(v) => !!v || 'Selecciona un rol']\">\n                <v-radio label=\"Administrador\" value=\"professor\"></v-radio>\n                <v-radio label=\"Usuario\" value=\"student\"></v-radio>\n              </v-radio-group>\n              <v-btn block class=\"primary mt-3\" type=\"submit\">Ingresar</v-btn>\n            </v-form>\n          </v-card-text>\n        </v-card> -->\n        <!-- <v-card v-else> -->\n <v-card-title primary-title class=\"justify-center\">\n  <div>\n    <div>Iniciar Sesion</div>\n  </div>\n</v-card-title>\n          <v-card-text>\n            <v-form class=\"ma-3\" @submit.prevent=\"signin()\" ref=\"signinForm\">\n              <v-text-field\n                label=\"E-mail\"\n                prepend-icon=\"mdi-email\"\n                :rules=\"emailRules\"\n                v-model=\"user.email\"\n              ></v-text-field>\n              <v-text-field\n                label=\"Password\"\n                prepend-icon=\"mdi-lock\"\n                type=\"password\"\n                :rules=\"passwordRules\"\n                v-model=\"user.password\"\n              ></v-text-field>\n              <v-radio-group row v-model=\"user.role\" :rules=\"[(v) => !!v || 'Selecciona un rol']\">\n                <v-radio label=\"Administrador\" value=\"professor\"></v-radio>\n                <v-radio label=\"Usuario\" value=\"student\"></v-radio>\n              </v-radio-group>\n              <v-btn block class=\"success mt-3\" type=\"submit\">Ingresar</v-btn>\n            </v-form>\n          </v-card-text>\n       <!--  </v-card> -->\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    alert: { show: false, message: \"\" },\n    nameRules: [\n      value => !!value || \"Se requiere el nombre\",\n      value =>\n        (value && value.length >= 5) || \"El nombre debe tener m치s de 5 caracteres\"\n    ],\n    emailRules: [\n      value => !!value || \"Ingrese E-mail\",\n      value => /.+@.+\\..+/.test(value) || \"El email debe ser v치lido\"\n    ],\n    passwordRules: [\n      value => !!value || \"Ingrese Password\",\n      value =>\n        (value && value.length >= 2) ||\n        \"La contrase침a debe tener m치s de 2 caracteres\"\n    ],\n    user: { name: \"\", email: \"\", password: \"\", role: \"\" },\n    suForm: true\n  }),\n  methods: {\n    async signup() {\n      let valid = this.$refs.signupForm.validate();\n      if (valid) {\n        try {\n          const res = await this.axios.post(\"/signup\", this.user);\n          this.$refs.signupForm.reset();\n          this.suForm = false;\n          this.alert = {\n            show: true,\n            type: \"success\",\n            message: res.data.message\n          };\n        } catch (error) {\n          this.alert = {\n            show: true,\n            type: \"error\",\n            message: error.response.data.message\n          };\n        }\n      }\n    },\n    async signin() {\n      let valid = this.$refs.signinForm.validate();\n      if (valid) {\n        try {\n          const res = await this.axios.post(\"/signin\", this.user);\n          if (res.data.NotFound) {\n            this.alert = {\n              show: true,\n              type: \"error\",\n              message: res.data.message\n            };\n          } else {\n            sessionStorage.setItem(\"session\", JSON.stringify(res.data));\n            this.$router.push('/profile')\n          }\n        } catch (error) {\n          this.alert = {\n            show: true,\n            type: \"error\",\n            message: error.response.data.message\n          };\n        }\n      }\n    }\n  }\n};\n</script>\n"]}]}