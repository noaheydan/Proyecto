{"remainingRequest":"C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\src\\views\\professor\\Courses.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\src\\views\\professor\\Courses.vue","mtime":1648783351340},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648655172549},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1648655179752},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648655172549},{"path":"C:\\Users\\Noah Eydan\\Downloads\\PEVN-master\\pevn-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1648655172892}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZiYXJQIGZyb20gIkAvY29tcG9uZW50cy9OYXZiYXJQIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgYWxlcnQ6IHsgc2hvdzogZmFsc2UgfSwKICAgIHByb2Zlc3Nvcjoge30sCiAgICBjb3Vyc2VzTGlzdDogW10sCiAgICBjb3Vyc2VUb0FkZDoge30sCiAgICBjb3Vyc2VUb0VkaXQ6IHt9LAogICAgYWRkOiBmYWxzZSwKICAgIGVkaXQ6IGZhbHNlCiAgfSksCiAgbWV0aG9kczogewogICAgYXN5bmMgYWRkQ291cnNlKCkgewogICAgICBsZXQgdmFsaWQgPSB0aGlzLiRyZWZzLmFkZEZvcm0udmFsaWRhdGUoKTsKICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgdGhpcy5jb3Vyc2VUb0FkZC5pZCA9IHRoaXMucHJvZmVzc29yLmlkOwogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoCiAgICAgICAgICAgICIvcHJvZmVzc29yL2NvdXJzZSIsCiAgICAgICAgICAgIHRoaXMuY291cnNlVG9BZGQKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLmNvdXJzZXNMaXN0LnB1c2gocmVzLmRhdGEuY291cnNlKTsKICAgICAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybS5yZXNldCgpOwogICAgICAgICAgdGhpcy5hZGQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuYWxlcnQgPSB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZQogICAgICAgICAgfTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJlYWRDb3Vyc2UoaWRfYykgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KGAvcHJvZmVzc29yL2NvdXJzZS8ke2lkX2N9YCk7CiAgICAgICAgdGhpcy5jb3Vyc2VUb0VkaXQgPSByZXMuZGF0YS5jb3Vyc2U7CiAgICAgICAgdGhpcy5lZGl0ID0gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBlZGl0Q291cnNlKCkgewogICAgICBsZXQgdmFsaWQgPSB0aGlzLiRyZWZzLmVkaXRGb3JtLnZhbGlkYXRlKCk7CiAgICAgIGlmICh2YWxpZCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF4aW9zLnB1dCgKICAgICAgICAgICAgYC9wcm9mZXNzb3IvY291cnNlLyR7dGhpcy5jb3Vyc2VUb0VkaXQuaWRfY31gLAogICAgICAgICAgICB0aGlzLmNvdXJzZVRvRWRpdAogICAgICAgICAgKTsKICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jb3Vyc2VzTGlzdC5maW5kSW5kZXgoCiAgICAgICAgICAgIGMgPT4gYy5pZF9jID09IHRoaXMuY291cnNlVG9FZGl0LmlkX2MKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLmNvdXJzZXNMaXN0W2luZGV4XSA9IHRoaXMuY291cnNlVG9FZGl0OwogICAgICAgICAgdGhpcy5lZGl0ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmFsZXJ0ID0gewogICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UKICAgICAgICAgIH07CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVDb3Vyc2UoaWRfYykgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXhpb3MuZGVsZXRlKGAvcHJvZmVzc29yL2NvdXJzZS8ke2lkX2N9YCk7CiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNvdXJzZXNMaXN0LmZpbmRJbmRleChjID0+IGMuaWRfYyA9PSBpZF9jKTsKICAgICAgICB0aGlzLmNvdXJzZXNMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5hbGVydCA9IHsKICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlCiAgICAgICAgfTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgdGhpcy5wcm9mZXNzb3IgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInNlc3Npb24iKSk7CiAgICBpZiAodGhpcy5wcm9mZXNzb3IgPT0gbnVsbCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfSBlbHNlIGlmICh0aGlzLnByb2Zlc3Nvci5yb2xlICE9ICJwcm9mZXNzb3IiKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoCiAgICAgICAgICAiL3Byb2Zlc3Nvci9teS1jb3Vyc2VzIiwKICAgICAgICAgIHRoaXMucHJvZmVzc29yCiAgICAgICAgKTsKICAgICAgICB0aGlzLmNvdXJzZXNMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZiYXJQCiAgfQp9Owo="},{"version":3,"sources":["Courses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Courses.vue","sourceRoot":"src/views/professor","sourcesContent":["<template>\n  <v-container>\n    <NavbarP :p_name=\"professor.name\" />\n    <v-alert text v-model=\"alert.show\" :type=\"alert.type\" dismissible>{{alert.message}}</v-alert>\n   <!--  <h1 class=\"font-weight-light\">Lista de Soluciones</h1> -->\n    <v-row justify=\"center\">\n      <v-card class=\"ma-2\" max-width=\"280\" v-for=\"course in coursesList\" :key=\"course.id_c\">\n        <v-img src=\"https://www.esa-automation.com/wp-content/uploads/2016/02/IoT.jpg\" height=\"200px\"></v-img>\n        <v-card-title>{{course.c_name}}</v-card-title>\n        <v-card-subtitle>{{course.c_description}}</v-card-subtitle>\n        <v-card-actions>\n          <v-btn color=\"blue\" small dark fab @click=\"readCourse(course.id_c)\">\n            <v-icon>mdi-pencil</v-icon>\n          </v-btn>\n          <v-btn color=\"red\" small dark fab @click=\"deleteCourse(course.id_c)\">\n            <v-icon>mdi-delete</v-icon>\n          </v-btn>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"purple\"\n            text\n            @click=\"$router.push(`/professor/assignments/${course.id_c}`)\"\n          >Agregar Dispositivo</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-row>\n    <v-dialog v-model=\"add\" max-width=\"450\">\n      <v-card>\n        <v-card-title>Añadir Solución</v-card-title>\n        <v-card-text>\n          <v-form ref=\"addForm\" @submit.prevent=\"addCourse()\" class=\"ma-3\">\n            <v-text-field\n              prepend-icon=\"mdi-biohazard\"\n              label=\"Nombre\"\n              :rules=\"[(v) => !!v || 'Nombre es requerido']\"\n              v-model=\"courseToAdd.c_name\"\n            ></v-text-field>\n            <v-textarea\n              prepend-icon=\"mdi-bike\"\n              label=\"Descripción\"\n              :rules=\"[(v) => !!v || 'Descripción es requerido']\"\n              v-model=\"courseToAdd.c_description\"\n            ></v-textarea>\n            <v-btn block class=\"success mt-3\" type=\"submit\">Guardar</v-btn>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"edit\" max-width=\"450\">\n      <v-card>\n        <v-card-title>Actualizar Solución</v-card-title>\n        <v-card-text>\n          <v-form ref=\"editForm\" @submit.prevent=\"editCourse()\" class=\"ma-3\">\n            <v-text-field\n              prepend-icon=\"mdi-biohazard\"\n              label=\"Marca\"\n              :rules=\"[(v) => !!v || 'Marca es requerido']\"\n              v-model=\"courseToEdit.c_name\"\n            ></v-text-field>\n            <v-textarea\n              prepend-icon=\"mdi-bike\"\n              label=\"Modelo\"\n              :rules=\"[(v) => !!v || 'Modelo es requerido']\"\n              v-model=\"courseToEdit.c_description\"\n            ></v-textarea>\n            <v-btn block class=\"info mt-3\" type=\"submit\">Guardar</v-btn>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n    <v-btn @click=\"add=true\" color=\"red\" large right fixed bottom fab dark>\n      <v-icon>mdi-plus</v-icon>\n    </v-btn>\n  </v-container>\n</template>\n\n<script>\nimport NavbarP from \"@/components/NavbarP\";\n\nexport default {\n  data: () => ({\n    alert: { show: false },\n    professor: {},\n    coursesList: [],\n    courseToAdd: {},\n    courseToEdit: {},\n    add: false,\n    edit: false\n  }),\n  methods: {\n    async addCourse() {\n      let valid = this.$refs.addForm.validate();\n      if (valid) {\n        this.courseToAdd.id = this.professor.id;\n        try {\n          const res = await this.axios.post(\n            \"/professor/course\",\n            this.courseToAdd\n          );\n          this.coursesList.push(res.data.course);\n          this.$refs.addForm.reset();\n          this.add = false;\n          this.alert = {\n            show: true,\n            type: \"success\",\n            message: res.data.message\n          };\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    async readCourse(id_c) {\n      try {\n        const res = await this.axios.get(`/professor/course/${id_c}`);\n        this.courseToEdit = res.data.course;\n        this.edit = true;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async editCourse() {\n      let valid = this.$refs.editForm.validate();\n      if (valid) {\n        try {\n          const res = await this.axios.put(\n            `/professor/course/${this.courseToEdit.id_c}`,\n            this.courseToEdit\n          );\n          const index = this.coursesList.findIndex(\n            c => c.id_c == this.courseToEdit.id_c\n          );\n          this.coursesList[index] = this.courseToEdit;\n          this.edit = false;\n          this.alert = {\n            show: true,\n            type: \"success\",\n            message: res.data.message\n          };\n        } catch (error) {\n          console.log(error.response);\n        }\n      }\n    },\n    async deleteCourse(id_c) {\n      try {\n        const res = await this.axios.delete(`/professor/course/${id_c}`);\n        const index = this.coursesList.findIndex(c => c.id_c == id_c);\n        this.coursesList.splice(index, 1);\n        this.alert = {\n          show: true,\n          type: \"info\",\n          message: res.data.message\n        };\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  created: async function() {\n    this.professor = JSON.parse(sessionStorage.getItem(\"session\"));\n    if (this.professor == null) {\n      this.$router.push(\"/\");\n    } else if (this.professor.role != \"professor\") {\n      this.$router.push(\"/profile\");\n    } else {\n      try {\n        const res = await this.axios.post(\n          \"/professor/my-courses\",\n          this.professor\n        );\n        this.coursesList = res.data;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  components: {\n    NavbarP\n  }\n};\n</script>"]}]}