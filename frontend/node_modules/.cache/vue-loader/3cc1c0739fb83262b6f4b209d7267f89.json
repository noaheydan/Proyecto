{"remainingRequest":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\src\\views\\professor\\Courses.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\src\\views\\professor\\Courses.vue","mtime":1649220549473},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649220384704},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1649220379926},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649220384704},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1649220506974}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTmF2YmFyUCBmcm9tICJAL2NvbXBvbmVudHMvTmF2YmFyUCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YTogKCkgPT4gKHsNCiAgICBhbGVydDogeyBzaG93OiBmYWxzZSB9LA0KICAgIHByb2Zlc3Nvcjoge30sDQogICAgY291cnNlc0xpc3Q6IFtdLA0KICAgIGNvdXJzZVRvQWRkOiB7fSwNCiAgICBjb3Vyc2VUb0VkaXQ6IHt9LA0KICAgIGFkZDogZmFsc2UsDQogICAgZWRpdDogZmFsc2UNCiAgfSksDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBhZGRDb3Vyc2UoKSB7DQogICAgICBsZXQgdmFsaWQgPSB0aGlzLiRyZWZzLmFkZEZvcm0udmFsaWRhdGUoKTsNCiAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICB0aGlzLmNvdXJzZVRvQWRkLmlkID0gdGhpcy5wcm9mZXNzb3IuaWQ7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5heGlvcy5wb3N0KA0KICAgICAgICAgICAgIi9wcm9mZXNzb3IvY291cnNlIiwNCiAgICAgICAgICAgIHRoaXMuY291cnNlVG9BZGQNCiAgICAgICAgICApOw0KICAgICAgICAgIHRoaXMuY291cnNlc0xpc3QucHVzaChyZXMuZGF0YS5jb3Vyc2UpOw0KICAgICAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybS5yZXNldCgpOw0KICAgICAgICAgIHRoaXMuYWRkID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5hbGVydCA9IHsNCiAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlDQogICAgICAgICAgfTsNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIHJlYWRDb3Vyc2UoaWRfYykgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoYC9wcm9mZXNzb3IvY291cnNlLyR7aWRfY31gKTsNCiAgICAgICAgdGhpcy5jb3Vyc2VUb0VkaXQgPSByZXMuZGF0YS5jb3Vyc2U7DQogICAgICAgIHRoaXMuZWRpdCA9IHRydWU7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBlZGl0Q291cnNlKCkgew0KICAgICAgbGV0IHZhbGlkID0gdGhpcy4kcmVmcy5lZGl0Rm9ybS52YWxpZGF0ZSgpOw0KICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5heGlvcy5wdXQoDQogICAgICAgICAgICBgL3Byb2Zlc3Nvci9jb3Vyc2UvJHt0aGlzLmNvdXJzZVRvRWRpdC5pZF9jfWAsDQogICAgICAgICAgICB0aGlzLmNvdXJzZVRvRWRpdA0KICAgICAgICAgICk7DQogICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNvdXJzZXNMaXN0LmZpbmRJbmRleCgNCiAgICAgICAgICAgIGMgPT4gYy5pZF9jID09IHRoaXMuY291cnNlVG9FZGl0LmlkX2MNCiAgICAgICAgICApOw0KICAgICAgICAgIHRoaXMuY291cnNlc0xpc3RbaW5kZXhdID0gdGhpcy5jb3Vyc2VUb0VkaXQ7DQogICAgICAgICAgdGhpcy5lZGl0ID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5hbGVydCA9IHsNCiAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlDQogICAgICAgICAgfTsNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgICBhc3luYyBkZWxldGVDb3Vyc2UoaWRfYykgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5heGlvcy5kZWxldGUoYC9wcm9mZXNzb3IvY291cnNlLyR7aWRfY31gKTsNCiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNvdXJzZXNMaXN0LmZpbmRJbmRleChjID0+IGMuaWRfYyA9PSBpZF9jKTsNCiAgICAgICAgdGhpcy5jb3Vyc2VzTGlzdC5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICB0aGlzLmFsZXJ0ID0gew0KICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgdHlwZTogImluZm8iLA0KICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UNCiAgICAgICAgfTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQ6IGFzeW5jIGZ1bmN0aW9uKCkgew0KICAgIHRoaXMucHJvZmVzc29yID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzZXNzaW9uIikpOw0KICAgIGlmICh0aGlzLnByb2Zlc3NvciA9PSBudWxsKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOw0KICAgIH0gZWxzZSBpZiAodGhpcy5wcm9mZXNzb3Iucm9sZSAhPSAicHJvZmVzc29yIikgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxlIik7DQogICAgfSBlbHNlIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXhpb3MucG9zdCgNCiAgICAgICAgICAiL3Byb2Zlc3Nvci9teS1jb3Vyc2VzIiwNCiAgICAgICAgICB0aGlzLnByb2Zlc3Nvcg0KICAgICAgICApOw0KICAgICAgICB0aGlzLmNvdXJzZXNMaXN0ID0gcmVzLmRhdGE7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgTmF2YmFyUA0KICB9DQp9Ow0K"},{"version":3,"sources":["Courses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Courses.vue","sourceRoot":"src/views/professor","sourcesContent":["<template>\r\n  <v-container>\r\n    <NavbarP :p_name=\"professor.name\" />\r\n    <v-alert text v-model=\"alert.show\" :type=\"alert.type\" dismissible>{{alert.message}}</v-alert>\r\n    \r\n   <!--  <h1 class=\"font-weight-light\">Lista de Soluciones</h1> -->\r\n    <v-row justify=\"center\">\r\n      <v-card class=\"ma-2\" max-width=\"280\" v-for=\"course in coursesList\" :key=\"course.id_c\">\r\n        <v-img src=\"https://www.esa-automation.com/wp-content/uploads/2016/02/IoT.jpg\" height=\"200px\"></v-img>\r\n        <v-card-title>{{course.c_name}}</v-card-title>\r\n        <v-card-subtitle>{{course.c_description}}</v-card-subtitle>\r\n        <v-card-actions>\r\n          <v-btn color=\"blue\" small dark fab @click=\"readCourse(course.id_c)\">\r\n            <v-icon>mdi-pencil</v-icon>\r\n          </v-btn>\r\n          <v-btn color=\"red\" small dark fab @click=\"deleteCourse(course.id_c)\">\r\n            <v-icon>mdi-delete</v-icon>\r\n          </v-btn>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            color=\"purple\"\r\n            text\r\n            @click=\"$router.push(`/professor/assignments/${course.id_c}`)\"\r\n          >Agregar Dispositivo</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-row>\r\n    <v-dialog v-model=\"add\" max-width=\"450\">\r\n      <v-card>\r\n        <v-card-title>Añadir Solución</v-card-title>\r\n        <v-card-text>\r\n          <v-form ref=\"addForm\" @submit.prevent=\"addCourse()\" class=\"ma-3\">\r\n            <v-text-field\r\n              prepend-icon=\"mdi-biohazard\"\r\n              label=\"Nombre\"\r\n              :rules=\"[(v) => !!v || 'Nombre es requerido']\"\r\n              v-model=\"courseToAdd.c_name\"\r\n            ></v-text-field>\r\n            <v-textarea\r\n              prepend-icon=\"mdi-bike\"\r\n              label=\"Descripción\"\r\n              :rules=\"[(v) => !!v || 'Descripción es requerido']\"\r\n              v-model=\"courseToAdd.c_description\"\r\n            ></v-textarea>\r\n            <v-btn block class=\"success mt-3\" type=\"submit\">Guardar</v-btn>\r\n          </v-form>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog v-model=\"edit\" max-width=\"450\">\r\n      <v-card>\r\n        <v-card-title>Actualizar Solución</v-card-title>\r\n        <v-card-text>\r\n          <v-form ref=\"editForm\" @submit.prevent=\"editCourse()\" class=\"ma-3\">\r\n            <v-text-field\r\n              prepend-icon=\"mdi-biohazard\"\r\n              label=\"Marca\"\r\n              :rules=\"[(v) => !!v || 'Marca es requerido']\"\r\n              v-model=\"courseToEdit.c_name\"\r\n            ></v-text-field>\r\n            <v-textarea\r\n              prepend-icon=\"mdi-bike\"\r\n              label=\"Modelo\"\r\n              :rules=\"[(v) => !!v || 'Modelo es requerido']\"\r\n              v-model=\"courseToEdit.c_description\"\r\n            ></v-textarea>\r\n            <v-btn block class=\"info mt-3\" type=\"submit\">Guardar</v-btn>\r\n          </v-form>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-btn @click=\"add=true\" color=\"red\" large right fixed bottom fab dark>\r\n      <v-icon>mdi-plus</v-icon>\r\n    </v-btn>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport NavbarP from \"@/components/NavbarP\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    alert: { show: false },\r\n    professor: {},\r\n    coursesList: [],\r\n    courseToAdd: {},\r\n    courseToEdit: {},\r\n    add: false,\r\n    edit: false\r\n  }),\r\n  methods: {\r\n    async addCourse() {\r\n      let valid = this.$refs.addForm.validate();\r\n      if (valid) {\r\n        this.courseToAdd.id = this.professor.id;\r\n        try {\r\n          const res = await this.axios.post(\r\n            \"/professor/course\",\r\n            this.courseToAdd\r\n          );\r\n          this.coursesList.push(res.data.course);\r\n          this.$refs.addForm.reset();\r\n          this.add = false;\r\n          this.alert = {\r\n            show: true,\r\n            type: \"success\",\r\n            message: res.data.message\r\n          };\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    async readCourse(id_c) {\r\n      try {\r\n        const res = await this.axios.get(`/professor/course/${id_c}`);\r\n        this.courseToEdit = res.data.course;\r\n        this.edit = true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async editCourse() {\r\n      let valid = this.$refs.editForm.validate();\r\n      if (valid) {\r\n        try {\r\n          const res = await this.axios.put(\r\n            `/professor/course/${this.courseToEdit.id_c}`,\r\n            this.courseToEdit\r\n          );\r\n          const index = this.coursesList.findIndex(\r\n            c => c.id_c == this.courseToEdit.id_c\r\n          );\r\n          this.coursesList[index] = this.courseToEdit;\r\n          this.edit = false;\r\n          this.alert = {\r\n            show: true,\r\n            type: \"success\",\r\n            message: res.data.message\r\n          };\r\n        } catch (error) {\r\n          console.log(error.response);\r\n        }\r\n      }\r\n    },\r\n     async deleteCourse(id_c) {\r\n      try {\r\n        const res = await this.axios.delete(`/professor/course/${id_c}`);\r\n        const index = this.coursesList.findIndex(c => c.id_c == id_c);\r\n        this.coursesList.splice(index, 1);\r\n        this.alert = {\r\n          show: true,\r\n          type: \"info\",\r\n          message: res.data.message\r\n        };\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  },\r\n  created: async function() {\r\n    this.professor = JSON.parse(sessionStorage.getItem(\"session\"));\r\n    if (this.professor == null) {\r\n      this.$router.push(\"/\");\r\n    } else if (this.professor.role != \"professor\") {\r\n      this.$router.push(\"/profile\");\r\n    } else {\r\n      try {\r\n        const res = await this.axios.post(\r\n          \"/professor/my-courses\",\r\n          this.professor\r\n        );\r\n        this.coursesList = res.data;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    NavbarP\r\n  }\r\n};\r\n</script>"]}]}