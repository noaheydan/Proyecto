{"remainingRequest":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\src\\views\\Home.vue","mtime":1649220549408},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649220384704},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1649220379926},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649220384704},{"path":"C:\\Users\\Noah Eydan\\Documents\\Poli\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1649220506974}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgYWxlcnQ6IHsgc2hvdzogZmFsc2UsIG1lc3NhZ2U6ICIiIH0sDQogICAgbmFtZVJ1bGVzOiBbDQogICAgICB2YWx1ZSA9PiAhIXZhbHVlIHx8ICJTZSByZXF1aWVyZSBlbCBub21icmUiLA0KICAgICAgdmFsdWUgPT4NCiAgICAgICAgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+PSA1KSB8fCAiRWwgbm9tYnJlIGRlYmUgdGVuZXIgbcOhcyBkZSA1IGNhcmFjdGVyZXMiDQogICAgXSwNCiAgICBlbWFpbFJ1bGVzOiBbDQogICAgICB2YWx1ZSA9PiAhIXZhbHVlIHx8ICJJbmdyZXNlIEUtbWFpbCIsDQogICAgICB2YWx1ZSA9PiAvLitALitcLi4rLy50ZXN0KHZhbHVlKSB8fCAiRWwgZW1haWwgZGViZSBzZXIgdsOhbGlkbyINCiAgICBdLA0KICAgIHBhc3N3b3JkUnVsZXM6IFsNCiAgICAgIHZhbHVlID0+ICEhdmFsdWUgfHwgIkluZ3Jlc2UgUGFzc3dvcmQiLA0KICAgICAgdmFsdWUgPT4NCiAgICAgICAgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+PSAyKSB8fA0KICAgICAgICAiTGEgY29udHJhc2XDsWEgZGViZSB0ZW5lciBtw6FzIGRlIDIgY2FyYWN0ZXJlcyINCiAgICBdLA0KICAgIHVzZXI6IHsgbmFtZTogIiIsIGVtYWlsOiAiIiwgcGFzc3dvcmQ6ICIiLCByb2xlOiAiIiB9LA0KICAgIHN1Rm9ybTogdHJ1ZQ0KICB9KSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIHNpZ251cCgpIHsNCiAgICAgIGxldCB2YWxpZCA9IHRoaXMuJHJlZnMuc2lnbnVwRm9ybS52YWxpZGF0ZSgpOw0KICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5heGlvcy5wb3N0KCIvc2lnbnVwIiwgdGhpcy51c2VyKTsNCiAgICAgICAgICB0aGlzLiRyZWZzLnNpZ251cEZvcm0ucmVzZXQoKTsNCiAgICAgICAgICB0aGlzLnN1Rm9ybSA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuYWxlcnQgPSB7DQogICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZQ0KICAgICAgICAgIH07DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgdGhpcy5hbGVydCA9IHsNCiAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLA0KICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlDQogICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgc2lnbmluKCkgew0KICAgICAgbGV0IHZhbGlkID0gdGhpcy4kcmVmcy5zaWduaW5Gb3JtLnZhbGlkYXRlKCk7DQogICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoIi9zaWduaW4iLCB0aGlzLnVzZXIpOw0KICAgICAgICAgIGlmIChyZXMuZGF0YS5Ob3RGb3VuZCkgew0KICAgICAgICAgICAgdGhpcy5hbGVydCA9IHsNCiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgic2Vzc2lvbiIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICB0aGlzLmFsZXJ0ID0gew0KICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UNCiAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-app-bar app color=\"primary\" dark>\r\n      <v-toolbar-title>Bienvenido</v-toolbar-title>\r\n    </v-app-bar>\r\n    <v-alert text v-model=\"alert.show\" :type=\"alert.type\" dismissible>{{alert.message}}</v-alert>\r\n    <v-row justify=\"center\">\r\n      <!-- <v-col class=\"text-center\" md=\"2\" sm=\"2\">\r\n        <v-btn class=\"primary\"  @click=\"suForm=true\">sign up</v-btn>\r\n      </v-col> -->\r\n     <!--  <v-col class=\"text-center\" md=\"2\" sm=\"2\">\r\n        <v-btn class=\"success\"  @click=\"suForm=false\">Iniciar Sesion</v-btn>\r\n      </v-col> -->\r\n    </v-row>\r\n    <v-row justify=\"center\">\r\n      <v-col md=\"6\" sm=\"6\">\r\n       <!--  <v-card v-if=\"suForm\">\r\n          <v-card-title>Sign Up</v-card-title>\r\n          <v-card-text>\r\n            <v-form class=\"ma-3\" @submit.prevent=\"signup()\" ref=\"signupForm\">\r\n              <v-text-field\r\n                label=\"Name\"\r\n                prepend-icon=\"mdi-account\"\r\n                :rules=\"nameRules\"\r\n                v-model=\"user.name\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                label=\"E-mail\"\r\n                prepend-icon=\"mdi-email\"\r\n                :rules=\"emailRules\"\r\n                v-model=\"user.email\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                label=\"Password\"\r\n                prepend-icon=\"mdi-lock\"\r\n                type=\"password\"\r\n                :rules=\"passwordRules\"\r\n                v-model=\"user.password\"\r\n              ></v-text-field>\r\n              <v-radio-group row v-model=\"user.role\" :rules=\"[(v) => !!v || 'Selecciona un rol']\">\r\n                <v-radio label=\"Administrador\" value=\"professor\"></v-radio>\r\n                <v-radio label=\"Usuario\" value=\"student\"></v-radio>\r\n              </v-radio-group>\r\n              <v-btn block class=\"primary mt-3\" type=\"submit\">Ingresar</v-btn>\r\n            </v-form>\r\n          </v-card-text>\r\n        </v-card> -->\r\n        <!-- <v-card v-else> -->\r\n <v-card-title primary-title class=\"justify-center\">\r\n  <div>\r\n    <div>Iniciar Sesion</div>\r\n  </div>\r\n</v-card-title>\r\n          <v-card-text>\r\n            <v-form class=\"ma-3\" @submit.prevent=\"signin()\" ref=\"signinForm\">\r\n              <v-text-field\r\n                label=\"E-mail\"\r\n                prepend-icon=\"mdi-email\"\r\n                :rules=\"emailRules\"\r\n                v-model=\"user.email\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                label=\"Password\"\r\n                prepend-icon=\"mdi-lock\"\r\n                type=\"password\"\r\n                :rules=\"passwordRules\"\r\n                v-model=\"user.password\"\r\n              ></v-text-field>\r\n              <v-radio-group row v-model=\"user.role\" :rules=\"[(v) => !!v || 'Selecciona un rol']\">\r\n                <v-radio label=\"Administrador\" value=\"professor\"></v-radio>\r\n                <v-radio label=\"Usuario\" value=\"student\"></v-radio>\r\n              </v-radio-group>\r\n              <v-btn block class=\"success mt-3\" type=\"submit\">Ingresar</v-btn>\r\n            </v-form>\r\n          </v-card-text>\r\n       <!--  </v-card> -->\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    alert: { show: false, message: \"\" },\r\n    nameRules: [\r\n      value => !!value || \"Se requiere el nombre\",\r\n      value =>\r\n        (value && value.length >= 5) || \"El nombre debe tener m치s de 5 caracteres\"\r\n    ],\r\n    emailRules: [\r\n      value => !!value || \"Ingrese E-mail\",\r\n      value => /.+@.+\\..+/.test(value) || \"El email debe ser v치lido\"\r\n    ],\r\n    passwordRules: [\r\n      value => !!value || \"Ingrese Password\",\r\n      value =>\r\n        (value && value.length >= 2) ||\r\n        \"La contrase침a debe tener m치s de 2 caracteres\"\r\n    ],\r\n    user: { name: \"\", email: \"\", password: \"\", role: \"\" },\r\n    suForm: true\r\n  }),\r\n  methods: {\r\n    async signup() {\r\n      let valid = this.$refs.signupForm.validate();\r\n      if (valid) {\r\n        try {\r\n          const res = await this.axios.post(\"/signup\", this.user);\r\n          this.$refs.signupForm.reset();\r\n          this.suForm = false;\r\n          this.alert = {\r\n            show: true,\r\n            type: \"success\",\r\n            message: res.data.message\r\n          };\r\n        } catch (error) {\r\n          this.alert = {\r\n            show: true,\r\n            type: \"error\",\r\n            message: error.response.data.message\r\n          };\r\n        }\r\n      }\r\n    },\r\n    async signin() {\r\n      let valid = this.$refs.signinForm.validate();\r\n      if (valid) {\r\n        try {\r\n          const res = await this.axios.post(\"/signin\", this.user);\r\n          if (res.data.NotFound) {\r\n            this.alert = {\r\n              show: true,\r\n              type: \"error\",\r\n              message: res.data.message\r\n            };\r\n          } else {\r\n            sessionStorage.setItem(\"session\", JSON.stringify(res.data));\r\n            this.$router.push('/profile')\r\n          }\r\n        } catch (error) {\r\n          this.alert = {\r\n            show: true,\r\n            type: \"error\",\r\n            message: error.response.data.message\r\n          };\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}